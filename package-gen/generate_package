#!/bin/bash

# Informations sur le paquet
PACKAGE_NAME="backup-restore-tool"
VERSION="1.0"
SOURCE_DIR="../"  # Le r√©pertoire racine contenant la structure organis√©e du paquet
OUTPUT_FILE="../${PACKAGE_NAME}_${VERSION}_all.deb"

# Nettoyage de tout paquet .deb pr√©c√©dent
echo "üßπ Nettoyage de tout paquet .deb pr√©c√©dent..."
rm -f "$OUTPUT_FILE"

# Construction du paquet
echo "üõ†Ô∏è  Construction du paquet .deb..."
dpkg-deb --build "$SOURCE_DIR" "$OUTPUT_FILE"

# Confirmation du succ√®s
if [ $? -eq 0 ]; then
  echo "‚úÖ Paquet g√©n√©r√© avec succ√®s : $OUTPUT_FILE"
else
  echo "‚ùå √âchec de la g√©n√©ration du paquet."
  exit 1
fi